<!--
    doc/src/sgml/ref/show_pool_processes.sgml
    Pgpool-II documentation
  -->

<refentry id="SQL-SHOW-POOL-PROCESSES">
 <indexterm zone="sql-show-pool-processes">
  <primary>SHOW POOL_PROCESSES</primary>
 </indexterm>

 <refmeta>
  <refentrytitle>SHOW POOL_PROCESSES</refentrytitle>
  <manvolnum>1</manvolnum>
  <refmiscinfo>SQL - Language Statements</refmiscinfo>
 </refmeta>

 <refnamediv>
  <refname>SHOW POOL_PROCESSES</refname>
  <refpurpose>
   <!--
   sends back a list of all <productname>Pgpool-II</productname>
   processes waiting for connections and dealing with a connection
   -->
   接続待ち、あるいは接続中の <productname>Pgpool-II</productname> の子プロセスの状態を表示する
  </refpurpose>
 </refnamediv>

 <refsynopsisdiv>
  <synopsis>
   SHOW POOL_PROCESSES
  </synopsis>
 </refsynopsisdiv>

 <refsect1>
  <!--
  <title>Description</title>
  -->
  <title>説明</title>

  <para>
   <!--
   <command>SHOW pool_processes</command> sends back a list of all
   <productname>Pgpool-II</productname> processes waiting for
   connections and dealing with a connection.
   -->
   <command>SHOW POOL_PROCESSES</command> は接続待ち、あるいは接続中の
   <productname>Pgpool-II</productname> の子プロセスの状態を表示します。
  </para>
  <para>
   <!--
   It has 8 columns:
   -->
   8つのカラムがあります。
   <itemizedlist>
    <listitem>
     <para>
      <!--
      <literal>pool_pid</literal> is the PID of the
      displayed <productname>Pgpool-II</productname> process.
      -->
      <literal>pool_pid</literal> は <productname>Pgpool-II</productname> プロセスのプロセス ID です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>start_time</literal> is the timestamp of when
      this process was launched.
      -->
      <literal>start_time</literal> はこのプロセスが起動された時刻です。
      <itemizedlist>
       <listitem>
        <para>
         <!--
         <literal>remaining</literal> is the remaining time by
         <xref linkend="guc-client-idle-limit">. If
         <literal>client_idle_limit</literal> is set 0,
         <literal>remaining</literal> is not desplayed.
         -->
         <literal>remaining</literal> は <xref linkend="guc-client-idle-limit"> に
         よる残り時間です。<literal>client_idle_limit</literal> が 0 の場合、
         <literal>remaining</literal> は表示されません。
        </para>
       </listitem>
      </itemizedlist>
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>client_connection_count</literal> counts the number of times
      this process has been used by clients.
      -->
      <literal>client_connection_count</literal> はこのプロセスが使用された回数です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>database</literal> is the database name of the
      currently active backend for this process.
      -->
      <literal>database</literal> はこのプロセスが接続しているデータベース名です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>username</literal> is the user name used in the
      connection of the currently active backend for this
      process.
      -->
      <literal>username</literal> はこのプロセスの接続で使用しているユーザ名です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>backend_connection_time</literal> is the creation time and
      date of the connection.
      -->
      <literal>backend_connection_time</literal> はこの接続が作成された時刻です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>pool_counter</literal> counts the number of times
      this pool of connections (process) has been used by
      clients.
      -->
      <literal>pool_counter</literal> はこの接続が使用された回数です。
     </para>
    </listitem>
    <listitem>
     <para>
      <!--
      <literal>status</literal> is current status of this process. Possible values are:
      -->
      <literal>status</literal> は現在のプロセスの状態です。以下のいずれかの値を取ります:
        <itemizedlist>
          <listitem>
            <para>
              <!--
              <literal>Execute command</literal>: Executing a command.
              -->
              <literal>Execute command</literal>: コマンドを実行中です。
            </para>
          </listitem>
          <listitem>
            <para>
              <!--
              <literal>Idle</literal>: The process is waiting for a new client command.
              -->
              <literal>Idle</literal>: クライアントからのコマンドを待機しています。
            </para>
          </listitem>
          <listitem>
            <para>
              <!--
              <literal>Idle in transaction</literal>: The process is waiting for a new client command
              in a transaction.
              -->
              <literal>Idle in transaction</literal>: トランザクション中にクライアントからのコマンドを待機しています。
            </para>
          </listitem>
          <listitem>
            <para>
              <!--
              <literal>Wait for connection</literal>: The process is waiting for a new client connection.
              -->
              <literal>Wait for connection</literal>: クライアントからの接続を待機しています。
            </para>
          </listitem>
      </itemizedlist>
     </para>
    </listitem>
   </itemizedlist>
  </para>
  <para>
   <!--
   Here is an example session:
   -->
   ここでは例を示します。

   <programlisting>
postgres=# show pool_processes;
 pool_pid |              start_time               | client_connection_count | database | username | backend_connection_time | pool_counter |       status
----------+---------------------------------------+-------------------------+----------+----------+-------------------------+--------------+---------------------
 6685     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6686     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6687     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6688     | 2021-09-07 02:41:13 (remaining: 4:10) | 1                       | postgres | postgres | 2021-09-07 02:41:48     | 1            | Idle
 6689     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6690     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6691     | 2021-09-07 02:41:13 (remaining: 5:00) | 0                       |          |          |                         |              | Wait for connection
 6692     | 2021-09-07 02:41:13 (remaining: 5:00) | 2                       | postgres | postgres | 2021-09-07 02:42:38     | 1            | Execute command
(8 rows)
   </programlisting>
  </para>
 </refsect1>

</refentry>
